# SSH Configuration Fragments

This directory contains auto-generated SSH configuration fragments for each node in the SolidStack infrastructure.

## Purpose

During node deployment, `solidstack-deploy.ps1` generates an SSH config fragment that makes the node accessible via a simple hostname.

## Usage

### Automatic Generation
When you deploy a node (e.g., SSDOCK), the deployment script creates a file here:
```
ssh-config.d/ssdock.conf
```

### Merging into ~/.ssh/config
Use the helper script to merge all fragments into your SSH config:
```bash
cd ~/projects/solidstack
./scripts/update-ssh-config.sh
```

After merging, you can access nodes by name:
```bash
ssh ssdock
ssh ssdc
ssh srv
```

## Format

Each fragment follows this pattern:
```
# Generated by solidstack-deploy.ps1
# Node: SSDOCK
Host ssdock
    HostName 192.168.69.10
    User administrator
    IdentityFile ~/.ssh/id_ed25519
    IdentitiesOnly yes
```

## Current Fragments

These will be created as nodes are deployed:
- `srv.conf` - Already exists in your ~/.ssh/config
- `ssdc.conf` - Already exists in your ~/.ssh/config
- `ssdock.conf` - Will be created when SSDOCK is deployed

## Git Tracking

These files ARE committed to git because:
- They contain no secrets (only public connection info)
- They serve as documentation of accessible nodes
- They make it easy for other operators to configure access
- They can be regenerated if lost

## Notes

The helper script (`update-ssh-config.sh`) will be created in `scripts/` directory and handles:
- Safe merging without duplicates
- Backup of existing config before changes
- Verification that hosts are accessible
